package com.example.butchersdelight;

import net.fabricmc.api.ModInitializer;
import net.fabricmc.fabric.api.item.v1.FabricItemSettings;
import net.fabricmc.fabric.api.object.builder.v1.block.FabricBlockSettings;
import net.minecraft.block.Block;
import net.minecraft.block.Material;
import net.minecraft.item.BlockItem;
import net.minecraft.item.Item;
import net.minecraft.item.ItemGroup;
import net.minecraft.recipe.Ingredient;
import net.minecraft.recipe.RecipeSerializer;
import net.minecraft.recipe.RecipeType;
import net.minecraft.util.Identifier;
import net.minecraft.util.registry.Registry;

public class ButchersDelightFabric implements ModInitializer {
    public static final String MOD_ID = "butchersdelight";
    
    // Register Blocks
    public static final Block DEAD_COW = new Block(FabricBlockSettings.of(Material.WOOD).strength(2.0f));
    public static final Block DEAD_CHICKEN = new Block(FabricBlockSettings.of(Material.WOOD).strength(2.0f));
    public static final Block DEAD_PIG = new Block(FabricBlockSettings.of(Material.WOOD).strength(2.0f));
    public static final Block DEAD_GOAT = new Block(FabricBlockSettings.of(Material.WOOD).strength(2.0f));
    public static final Block MEAT_HOOK = new Block(FabricBlockSettings.of(Material.METAL).strength(3.0f));
    public static final Block PROCESSING_TABLE = new Block(FabricBlockSettings.of(Material.WOOD).strength(2.5f));
    
    // Register Items
    public static final Item RAW_MEAT = new Item(new FabricItemSettings().group(ItemGroup.FOOD));
    public static final Item SKINNED_MEAT = new Item(new FabricItemSettings().group(ItemGroup.FOOD));
    public static final Item COOKED_MEAT = new Item(new FabricItemSettings().group(ItemGroup.FOOD));
    public static final Item BUTCHER_KNIFE = new Item(new FabricItemSettings().group(ItemGroup.TOOLS).maxCount(1));
    
    @Override
    public void onInitialize() {
        // Register Blocks
        Registry.register(Registry.BLOCK, new Identifier(MOD_ID, "dead_cow"), DEAD_COW);
        Registry.register(Registry.BLOCK, new Identifier(MOD_ID, "dead_chicken"), DEAD_CHICKEN);
        Registry.register(Registry.BLOCK, new Identifier(MOD_ID, "dead_pig"), DEAD_PIG);
        Registry.register(Registry.BLOCK, new Identifier(MOD_ID, "dead_goat"), DEAD_GOAT);
        Registry.register(Registry.BLOCK, new Identifier(MOD_ID, "meat_hook"), MEAT_HOOK);
        Registry.register(Registry.BLOCK, new Identifier(MOD_ID, "processing_table"), PROCESSING_TABLE);
        
        // Register Block Items
        Registry.register(Registry.ITEM, new Identifier(MOD_ID, "dead_cow"), new BlockItem(DEAD_COW, new FabricItemSettings().group(ItemGroup.DECORATIONS)));
        Registry.register(Registry.ITEM, new Identifier(MOD_ID, "dead_chicken"), new BlockItem(DEAD_CHICKEN, new FabricItemSettings().group(ItemGroup.DECORATIONS)));
        Registry.register(Registry.ITEM, new Identifier(MOD_ID, "dead_pig"), new BlockItem(DEAD_PIG, new FabricItemSettings().group(ItemGroup.DECORATIONS)));
        Registry.register(Registry.ITEM, new Identifier(MOD_ID, "dead_goat"), new BlockItem(DEAD_GOAT, new FabricItemSettings().group(ItemGroup.DECORATIONS)));
        Registry.register(Registry.ITEM, new Identifier(MOD_ID, "meat_hook"), new BlockItem(MEAT_HOOK, new FabricItemSettings().group(ItemGroup.DECORATIONS)));
        Registry.register(Registry.ITEM, new Identifier(MOD_ID, "processing_table"), new BlockItem(PROCESSING_TABLE, new FabricItemSettings().group(ItemGroup.DECORATIONS)));
        
        // Register Items
        Registry.register(Registry.ITEM, new Identifier(MOD_ID, "raw_meat"), RAW_MEAT);
        Registry.register(Registry.ITEM, new Identifier(MOD_ID, "skinned_meat"), SKINNED_MEAT);
        Registry.register(Registry.ITEM, new Identifier(MOD_ID, "cooked_meat"), COOKED_MEAT);
        Registry.register(Registry.ITEM, new Identifier(MOD_ID, "butcher_knife"), BUTCHER_KNIFE);
        
        // Register Recipes
        Registry.register(Registry.RECIPE_SERIALIZER, new Identifier(MOD_ID, "skinning"), RecipeSerializer.SIMPLE);
        Registry.register(Registry.RECIPE_TYPE, new Identifier(MOD_ID, "skinning"), new RecipeType<>() {});
    }
}
